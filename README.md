Данная программа является исходным кодом комманды cat

Далее будет описание всех функций, использующихся в коде данной утилиты:

#Функция для копирования файла
#Она пробегает весь файл и, когда она доходит до конца, выводит все в вывод ofp
void filecopy(FILE *ifp, FILE *ofp)
{
    int c;

    while ((c = getc(ifp)) != EOF) {
        putc(c, ofp);
    }
}

#Функция, определяющая поведение программы в случае отсутствия файла
#Происходит копирование стардартного входа stdin в стандартный выход stdout
if (argc == 1) {
        filecopy(stdin, stdout);
    }

#Функция, определяющая поведение программы в случае наличия файла/файлов
#Каждый файл открывается (Если не выходит, выдает ошибку 1), пробегается и выводится, после чего закрывается
else {
        while (--argc > 0) {
            if ((fp = fopen(*++argv, "r")) == NULL) {
                fprintf(stderr, "%s: can't open %s\n", prog, *argv);
                exit(1);
            }
            else {
                filecopy(fp, stdout);
                fclose(fp);
            }
        }

#После того, как программа пробежала все файлы, производится проверка вывода
#Если вывод не работает, программа завершается с ошибкой 2
if (ferror(stdout)) {
        fprintf(stderr, "%s: error writing stdout\n", prog);
        exit(2);
    }

#Если программа не обнаружила проблем на пути своего выполнения, программа успешно завершается (Код 0)
exit(0);
